{"is_source_file": true, "format": "JavaScript", "description": "The file defines a React component for a Messenger page, managing chat lists, messages, real-time updates, and UI interactions in a secure chat application.", "external_files": ["../auth/AuthContext", "../api/chats", "../components/CreateGroupModal", "../components/MembersModal", "../realtime/realtimeClient"], "external_methods": ["useAuth", "createChat", "listChats", "listMembers", "listMessages", "addMember", "removeMember", "sendMessage", "createRealtimeClient"], "published": [], "classes": [], "methods": [{"name": "initials(nameOrEmail)", "description": "Generate initials from a user's name or email for avatar display.", "scope": "", "scopeKind": ""}, {"name": "formatTime(iso)", "description": "Format an ISO timestamp into a human-readable time string.", "scope": "", "scopeKind": ""}, {"name": "MessengerPage()", "description": "Main React component for the Messenger page, handling chat selection, message display, sending, and real-time updates.", "scope": "", "scopeKind": ""}, {"name": "onCreateGroup(payload)", "description": "Create a new chat group and update the chat list.", "scope": "MessengerPage", "scopeKind": "function"}, {"name": "onSend()", "description": "Send a message in the active chat with optimistic UI update and error handling.", "scope": "MessengerPage", "scopeKind": "function"}, {"name": "load()", "scope": "MessengerPage", "scopeKind": "function", "description": "unavailable"}, {"name": "loadMsgs()", "scope": "MessengerPage", "scopeKind": "function", "description": "unavailable"}], "calls": ["listChats(token)", "listMessages(token, activeChatId)", "createRealtimeClient({ token, onMessage })", "rt.start()", "rt.joinChat(activeChatId)", "rt.stop()", "createChat(token, payload)", "sendMessage(token, activeChatId, { text })", "listMembers(token, chatId)", "addMember(token, chatId, payload)", "removeMember(token, chatId, memberUserId)"], "search-terms": ["React MessengerPage", "chat list management", "real-time chat updates", "create group modal", "members modal", "message sending"], "state": 2, "file_id": 25, "knowledge_revision": 56, "git_revision": "500e087e7514c1d0c03c2e2336d457f1129d5dd4", "ctags": [{"_type": "tag", "name": "MessengerPage", "path": "/home/kavia/workspace/code-generation/secure-chat-messenger-321065-321074/messenger_frontend/src/pages/MessengerPage.js", "pattern": "/^export default function MessengerPage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "activeChat", "path": "/home/kavia/workspace/code-generation/secure-chat-messenger-321065-321074/messenger_frontend/src/pages/MessengerPage.js", "pattern": "/^                  placeholder={activeChat ? \"Write a message\u2026\" : \"Select a chat to start messa/", "language": "JavaScript", "kind": "field", "scope": "MessengerPage.placeholder", "scopeKind": "class"}, {"_type": "tag", "name": "chatQuery", "path": "/home/kavia/workspace/code-generation/secure-chat-messenger-321065-321074/messenger_frontend/src/pages/MessengerPage.js", "pattern": "/^                value={chatQuery}$/", "language": "JavaScript", "kind": "field", "scope": "MessengerPage.value", "scopeKind": "class"}, {"_type": "tag", "name": "composer", "path": "/home/kavia/workspace/code-generation/secure-chat-messenger-321065-321074/messenger_frontend/src/pages/MessengerPage.js", "pattern": "/^                  value={composer}$/", "language": "JavaScript", "kind": "field", "scope": "MessengerPage.value", "scopeKind": "class"}, {"_type": "tag", "name": "formatTime", "path": "/home/kavia/workspace/code-generation/secure-chat-messenger-321065-321074/messenger_frontend/src/pages/MessengerPage.js", "pattern": "/^function formatTime(iso) {$/", "language": "JavaScript", "kind": "function", "signature": "(iso)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/secure-chat-messenger-321065-321074/messenger_frontend/src/pages/MessengerPage.js", "pattern": "/^      id: `local-${Date.now()}`,$/", "language": "JavaScript", "kind": "property", "scope": "MessengerPage.onSend.optimistic", "scopeKind": "class"}, {"_type": "tag", "name": "initials", "path": "/home/kavia/workspace/code-generation/secure-chat-messenger-321065-321074/messenger_frontend/src/pages/MessengerPage.js", "pattern": "/^function initials(nameOrEmail) {$/", "language": "JavaScript", "kind": "function", "signature": "(nameOrEmail)"}, {"_type": "tag", "name": "load", "path": "/home/kavia/workspace/code-generation/secure-chat-messenger-321065-321074/messenger_frontend/src/pages/MessengerPage.js", "pattern": "/^    async function load() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "MessengerPage", "scopeKind": "function"}, {"_type": "tag", "name": "loadMsgs", "path": "/home/kavia/workspace/code-generation/secure-chat-messenger-321065-321074/messenger_frontend/src/pages/MessengerPage.js", "pattern": "/^    async function loadMsgs() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "MessengerPage", "scopeKind": "function"}, {"_type": "tag", "name": "onCreateGroup", "path": "/home/kavia/workspace/code-generation/secure-chat-messenger-321065-321074/messenger_frontend/src/pages/MessengerPage.js", "pattern": "/^  async function onCreateGroup(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)", "scope": "MessengerPage", "scopeKind": "function"}, {"_type": "tag", "name": "onSend", "path": "/home/kavia/workspace/code-generation/secure-chat-messenger-321065-321074/messenger_frontend/src/pages/MessengerPage.js", "pattern": "/^  async function onSend() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "MessengerPage", "scopeKind": "function"}, {"_type": "tag", "name": "optimistic", "path": "/home/kavia/workspace/code-generation/secure-chat-messenger-321065-321074/messenger_frontend/src/pages/MessengerPage.js", "pattern": "/^    const optimistic = {$/", "language": "JavaScript", "kind": "class", "scope": "MessengerPage.onSend", "scopeKind": "class"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/secure-chat-messenger-321065-321074/messenger_frontend/src/pages/MessengerPage.js", "pattern": "/^      text,$/", "language": "JavaScript", "kind": "field", "scope": "MessengerPage.onSend.optimistic", "scopeKind": "class"}], "hash": "1766ee028068266fe81cd9a2940b90ed", "format-version": 4, "code-base-name": "messenger_frontend", "filename": "messenger_frontend/src/pages/MessengerPage.js", "fields": [{"name": "placeholder={activeChat ? \"Write a message\u2026\" : \"Select a chat to start messa/", "scope": "MessengerPage.placeholder", "scopeKind": "class", "description": "unavailable"}, {"name": "value={chatQuery}", "scope": "MessengerPage.value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={composer}", "scope": "MessengerPage.value", "scopeKind": "class", "description": "unavailable"}, {"name": "id: `local-${Date.now()}`,", "scope": "MessengerPage.onSend.optimistic", "scopeKind": "class", "description": "unavailable"}, {"name": "text,", "scope": "MessengerPage.onSend.optimistic", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"56": "500e087e7514c1d0c03c2e2336d457f1129d5dd4"}]}